<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>V√πng ƒê·∫•t Chill ‚Ä¢ H∆∞·ªõng d·∫´n l·ªánh</title>
  <link rel="icon" href="logo.svg">

  <!-- Fonts (Inter hi·ªán ƒë·∫°i, g·ªçn g√†ng) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- N·ªÄN VIDEO -->
  <div class="bg-fixed bg-video" aria-hidden="true">
    <video id="bgvid" class="bg-video-el"
           autoplay muted loop playsinline preload="auto"
           poster="assets/bg-poster.jpg">
      <source src="assets/bg.mp4"  type="video/mp4">
      <source src="assets/bg.webm" type="video/webm">
    </video>
    <div class="bg-overlay"></div>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="brand">
      <div class="logo">üìú</div>
    </div>
    <nav class="nav" style="display:flex;align-items:center;gap:12px">
      <!-- Th√™m select ƒë·ªïi giao di·ªán -->
      <select id="theme-switcher" class="select" title="ƒê·ªïi giao di·ªán" style="min-width:110px">
        <option value="modern">Hi·ªán ƒë·∫°i</option>
        <option value="retro">Retro</option>
      </select>
      <!-- Kh√¥ng g·∫°ch ch√¢n, gi·ªØ l√† .btn -->
      <a class="btn" href="../index.html">‚Üê V·ªÅ trang ch√≠nh</a>
    </nav>
  </header>

  <!-- Quote ƒë·ªông d∆∞·ªõi header -->
  <div id="dynamic-quote" class="dynamic-quote"></div>

  <!-- Audio UI (ƒë√£ l∆∞·ª£c gi·∫£n: ch·ªâ n√∫t b·∫≠t/t·∫Øt) -->
  <div class="audio-ui" id="audio-ui" aria-live="polite">
    <button id="bgm-toggle" class="btn-audio" aria-label="Ph√°t/T·∫Øt nh·∫°c" title="Ph√°t/T·∫Øt nh·∫°c">
      <span class="eq"><i></i><i></i><i></i></span>
    </button>
  </div>

  <!-- Main -->
  <main class="container">
    <section class="panel">
      <div class="toolbar">
        <div class="search">
          <input id="cmd-search" placeholder="T√¨m theo t√™n / m√¥ t·∫£ / v√≠ d·ª•..."/>
          <ul id="suggest" class="suggest" hidden></ul>
        </div>
        <select id="cmd-type" class="select" title="Lo·∫°i l·ªánh">
          <option value="all">T·∫•t c·∫£ lo·∫°i</option>
          <option value="prefix">Prefix</option>
          <option value="slash">Slash</option>
        </select>
        <select id="cmd-category" class="select" title="Danh m·ª•c">
          <option value="all">T·∫•t c·∫£ danh m·ª•c</option>
        </select>
      </div>

      <!-- Danh s√°ch l·ªánh (render b·∫±ng JS) -->
      <div id="cmd-list"></div>
    </section>
  </main>

  <!-- Toast copy -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- Command Palette (Ctrl/Cmd + K) -->
  <div id="kbar" class="kbar" role="dialog" aria-modal="true" aria-labelledby="kbar-title" hidden>
    <div class="kbar-box">
      <div class="kbar-head">
        <div id="kbar-title" class="kbar-title">T√¨m l·ªánh nhanh</div>
        <button id="kbar-close" class="kbar-close" aria-label="ƒê√≥ng">‚úï</button>
      </div>
      <input id="kbar-input" class="kbar-input" placeholder="G√µ t√™n l·ªánh‚Ä¶ (Enter ƒë·ªÉ copy)"/>
      <ul id="kbar-list" class="kbar-list" role="listbox" aria-label="K·∫øt qu·∫£"></ul>
      <div class="kbar-hint">‚Üë/‚Üì ch·ªçn ‚Ä¢ Enter copy ‚Ä¢ Esc ƒë√≥ng</div>
    </div>
  </div>

  <!-- Nh·∫°c n·ªÅn -->
  <audio id="bgm" preload="auto" loop src="assets/music.mp3"></audio>

  <script src="commands.data.js"></script>
  <script src="app.js"></script>
  <script>
    // Theme switcher logic
    (function(){
      var select = document.getElementById('theme-switcher');
      var body = document.body;
      var LS_KEY = "vdc_theme";
      // Load from localStorage
      var saved = localStorage.getItem(LS_KEY);
      if(saved==="retro") {
        select.value = "retro";
        body.classList.add("theme-retro");
      }
      select.addEventListener("change", function(){
        if(this.value==="retro"){
          body.classList.add("theme-retro");
          localStorage.setItem(LS_KEY, "retro");
        } else {
          body.classList.remove("theme-retro");
          localStorage.setItem(LS_KEY, "modern");
        }
      });
    })();

    // Quote ƒë·ªông d∆∞·ªõi header
    (function(){
      var quotes = [
        "H∆∞·ªõng D·∫´n L·ªánh ‚Ä¢ Kh√°m ph√° c√°c l·ªánh h·ªØu √≠ch cho c·ªông ƒë·ªìng.",
        "Tip: D√πng Ctrl/Cmd + K ƒë·ªÉ t√¨m l·ªánh nhanh.",
        "B·∫°n c√≥ th·ªÉ t√¨m ki·∫øm theo t√™n, m√¥ t·∫£ ho·∫∑c v√≠ d·ª•.",
        "Ch·ªçn giao di·ªán Retro n·∫øu th√≠ch phong c√°ch c·ªï ƒëi·ªÉn!",
        "Nh·∫•n v√†o c√∫ ph√°p ƒë·ªÉ copy nhanh.",
        "Danh m·ª•c ƒë∆∞·ª£c t·ªëi ∆∞u cho c·∫£ mobile v√† desktop.",
        "Ch√∫c b·∫°n m·ªôt ng√†y vui v·∫ª c√πng V√πng ƒê·∫•t Chill!"
      ];
      var idx = 0;
      var el = document.getElementById('dynamic-quote');
      function showQuote() {
        if (!el) return;
        el.textContent = quotes[idx];
        idx = (idx + 1) % quotes.length;
      }
      showQuote();
      setInterval(showQuote, 5000);
    })();
  </script>
</body>
</html>
